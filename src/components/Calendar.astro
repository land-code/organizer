---
const date = new Date();
const year = date.getFullYear();
const month = date.getMonth();
const day = date.getDate();
const monthName = date.toLocaleString('default', { month: 'long' });
const daysInMonth = new Date(year, month + 1, 0).getDate();
const firstDay = new Date(year, month, 1).getDay();

const today = new Date();
---

<div class="grid grid-cols-7 gap-4 py-4">
  {
    Array(daysInMonth)
      .fill(null)
      .map((_, index) => {
        const day = index + 1;
        const isFirst = day === 1;

        const isToday =
          new Date(year, month, day).toDateString() === today.toDateString();
        return (
          <div
            class={`day p-2 h-32 overflow-auto scroll-p-8 bg-zinc-600 rounded-xl cursor-pointer hover:bg-zinc-500 ${isToday ? 'border-4 border-zinc-500' : ''}`}
            style={isFirst ? `grid-column-start: ${firstDay}` : ''}
            transition:name={`day-${day}`}
          >
            <header>
              <h1 class="pointer-events-none">{day}</h1>
            </header>
            <main>
              <ul>
                <li>Evento 1</li>
                <li>Evento 1</li>
                <li>Evento 1</li>
                <li>Evento 1</li>
                <li>Evento 1</li>
                <li>Evento 1</li>
                <li>Evento 1</li>
              </ul>
            </main>
          </div>
        );
      })
  }
</div>
<style>
  /* width */
  .day::-webkit-scrollbar {
    width: 10px;
  }

  /* Track */
  .day::-webkit-scrollbar-track {
    background: #f1f1f1;
    @apply rounded-xl;
  }

  /* Handle */
  .day::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 5px;
  }

  /* Handle on hover */
  .day::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
</style>
